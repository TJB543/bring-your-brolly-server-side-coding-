<html>
<head>
  <meta charset="UTF-8">
  <script language="javascript" type="text/javascript" src="libraries/p5.js"></script>
  <script language="javascript" src="libraries/p5.dom.js"></script>
  <script language="javascript" src="libraries/p5.sound.js"></script>
</head>

<body>
    <h1>all scores!</h1>
    <script>
        getData();
        async function getData() {
        const response = await fetch('/api');
        const data = await response.json();
        for (item of data) {
            const root = document.createElement('div')
            const high = document.createElement('div')
            const date = document.createElement('div')
            
            high.textContent = `highscore: ${item.high}`
            const dateString = new Date(item.timestamp).toLocaleString();
            date.textContent = dateString;
            
            root.append(high,date);
            document.body.append(root);
        }
        console.log(data);
        }
    </script>
</body>
</html>